plugins {
    id 'com.android.application'
    id 'kotlin-android'
    id 'com.diffplug.spotless'
	id "org.jlleitschuh.gradle.ktlint"
}

android {
    compileSdkVersion 34
    buildToolsVersion '34.0.0'
    namespace "org.deenu.code"	
	
	packagingOptions {        
    	exclude("license/README.dom.txt")     
		exclude("license/LICENSE.dom-documentation.txt")   
		exclude("license/NOTICE")     
		exclude("license/LICENSE")     
		exclude("license/LICENSE.dom-software.txt")   
    }
	
	compileOptions {             
        sourceCompatibility JavaVersion.VERSION_20
        targetCompatibility JavaVersion.VERSION_20
    }
	
    kotlinOptions {
        jvmTarget = '20'
    }

	buildFeatures {
        buildConfig true
		viewBinding true
    }
		
    spotless {
        java {
    	   target "**/*.java"		  
    	   googleJavaFormat()
    	}
    }		
			
    defaultConfig {
        applicationId "org.deenu.code"
        minSdkVersion 21
        targetSdkVersion 34
        versionCode 1
        versionName "1.0.0"   
		useLibrary  'org.apache.http.legacy'     
    }
	
    signingConfigs {
        debug {
            storeFile file('codecompletion.jks')
            keyAlias 'codecompletion'
            storePassword 'codecompletion'
            keyPassword 'codecompletion'
        }
    	release {
            storeFile file('codecompletion.jks')
            keyAlias 'codecompletion'
            storePassword 'codecompletion'
            keyPassword 'codecompletion'
        }
    }

    buildTypes {
        debug {
            debuggable false
	        signingConfig signingConfigs.debug
        }
        release {
            minifyEnabled true
            shrinkResources true
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
	        signingConfig signingConfigs.release
        }		
    }	   
}
    
dependencies {
    implementation fileTree(dir: 'libs', include: ['*.aar','*.jar'])	
	implementation 'androidx.appcompat:appcompat:1.7.0-alpha03'
	implementation 'com.google.android.material:material:1.12.0-alpha02'
	implementation 'androidx.databinding:viewbinding:8.3.0-alpha18'
	implementation 'androidx.constraintlayout:constraintlayout:2.2.0-alpha13'
	implementation 'androidx.annotation:annotation:1.7.1'
	implementation 'io.github.Rosemoe.sora-editor:language-textmate:0.22.2'
	implementation 'io.github.Rosemoe.sora-editor:language-java:0.22.2'
	implementation 'io.github.Rosemoe.sora-editor:textmate-core:0.8.4'
	implementation project(':editor')
}